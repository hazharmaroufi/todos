(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))i(e);new MutationObserver(e=>{for(const o of e)if(o.type==="childList")for(const r of o.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&i(r)}).observe(document,{childList:!0,subtree:!0});function n(e){const o={};return e.integrity&&(o.integrity=e.integrity),e.referrerPolicy&&(o.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?o.credentials="include":e.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(e){if(e.ep)return;e.ep=!0;const o=n(e);fetch(e.href,o)}})();let c="default";class f{constructor(t,n,i,e,o){this.title=t,this.description=n,this.dueDate=i,this.priority=e,this.list=o,this.isDone=!1}}let l=JSON.parse(localStorage.getItem("localTask"))||[];const p=(s,t,n,i,e)=>{const o=new f(s,t,n,i,e,!1);l.push(o)};document.getElementById("sub").addEventListener("click",function(s){s.preventDefault();let t=document.getElementById("title").value,n=document.getElementById("description").value,i=document.getElementById("dueDate").value,e=document.getElementById("priority").value,o=document.getElementById("list").value||"default";p(t,n,i,e,o),console.log(l),localStorage.setItem("localTask",JSON.stringify(l)),d(),a()});localStorage.setItem("localTask",JSON.stringify(l));let u=localStorage.getItem("localTask");u=JSON.parse(u);function a(){location.reload()}const d=function(){let s=document.querySelector(".tasks"),t=document.querySelector(".lists");t.innerHTML="",s.innerHTML="";let n=[...new Set(l.map(e=>e.list))];for(let e=n.length-1;e>=0;e--)t.innerHTML+=`
    <ul>
   <li style="margin-left: 1rem"  class="hidden " data-id="${e}"><button class="listselection">${n[e]}</button></li>
    </ul>
   `;document.querySelectorAll(".listselection").forEach(e=>{e.addEventListener("click",function(o){c=o.target.textContent,localStorage.setItem("selectedList",c),d(),y(),m(),g()})});for(let e=l.length-1;e>=0;e--)l[e].list===c&&(s.innerHTML+=`
    <ul>
      <li data-id="${e}"><button id="doing" class="${e}">✔️</button>  task: ${l[e].title} </li>
      <li style="margin-left: 1rem" class="hidden idNumber" data-id="${e}">🗒️ description: ${l[e].description}</li>
      <li style="margin-left: 1rem"  class="hidden " data-id="${e}">⏰ due : ${l[e].dueDate}</li>
      <li style="margin-left: 1rem"  class="hidden " data-id="${e}">⭐️ priority: <button id="priority" class="${e}">${l[e].priority}</button></li>
      <li style="margin-left: 1rem"  class="hidden " data-id="${e}">✏️ list : ${l[e].list}</li>
    <hr> 
    </ul>
    <button style="border: 1px solid gray; background-color: burlywood ; border-radius: 8px; padding: 4px 16px; margin: 8px" class="hidden done" data-id="${e}">Done</button> 
     <button style="border: 1px solid gray; background-color:gold ; border-radius: 8px; padding: 4px 16px; margin: 8px" class="hidden edit" data-id="${e}">Edit</button><br>
    `)};function I(){document.querySelectorAll("#doing").forEach(t=>{t.addEventListener("click",function(n){const i=n.target.className,e=document.querySelector(`.idNumber[data-id="${i}"]`).dataset.id;document.querySelectorAll(".hidden").forEach(r=>{r.dataset.id===e&&r.classList.toggle("hidden")})})}),d()}function m(){document.querySelectorAll(".done").forEach(t=>{t.addEventListener("click",function(n){const i=n.target.dataset.id;l.splice(i,1),console.log(i.title),localStorage.setItem("localTask",JSON.stringify(l)),d(),a()})})}function g(){document.querySelectorAll(".edit").forEach(t=>{t.addEventListener("click",function(n){const i=n.target.dataset.id,e=l[i];document.getElementById("editForm").style.display="block",document.getElementById("editTitle").value=e.title,document.getElementById("editDescription").value=e.description,document.getElementById("editDueDate").value=e.dueDate,document.getElementById("editPriority").value=e.priority,document.getElementById("editList").value=e.list,document.getElementById("saveEdit").onclick=function(){e.title=document.getElementById("editTitle").value,e.description=document.getElementById("editDescription").value,e.dueDate=document.getElementById("editDueDate").value,e.priority=document.getElementById("editPriority").value,e.list=document.getElementById("editList").value,l[i]=e,localStorage.setItem("localTask",JSON.stringify(l)),a(),document.getElementById("editForm").style.display="none"}})})}function y(){document.querySelectorAll("#doing").forEach(t=>{t.addEventListener("click",function(n){d()})})}function h(){document.querySelectorAll("#priority").forEach(t=>{t.addEventListener("click",function(n){const i=Number(n.target.className);l[i].priority=l[i].priority==="low"?"high":"low",localStorage.clear(),localStorage.setItem("localTask",JSON.stringify(l)),d(),a()})})}d();y();I();h();m();g();
